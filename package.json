{
  "name": "name",
  "version": "1.0.0",
  "description": "",
  "watch": {
    "dev:frontend:exe": {
      "patterns": [
        "./frontend",
        "./shared"
      ],
      "extensions": [
        "hs",
        "cabal"
      ]
    },
    "dev:backend:exe": {
      "patterns": [
        "./backend",
        "./shared"
      ],
      "extensions": [
        "hs",
        "cabal"
      ]
    }
  },
  "scripts": {
    "dev:frontend": "npm run serve:frontend & { npm-watch dev:frontend:exe && killall -9 lite-server; }",
    "dev:backend": "npm-watch dev:backend:exe",
    "serve:frontend": "(cd dist/site/ && lite-server) &",
    "dev:backend:exe": "cabal new-build backend --project-file=cabal.project --builddir=dist/ghc/ && { killall -9 backend || true; } && echo 'Restarting backend' && npm run serve:backend",
    "dev:frontend:exe": "cabal new-build exe:frontend --project-file=cabal-ghcjs.project --builddir=dist/ghcjs/ && { npm run remove-index || true; } && { npm run distribute || true; }",
    "serve:backend": "./dist/ghc/build/*/ghc-8.4.4/*/x/backend/*/build/backend/backend",
    "remove-index": "rm dist/ghcjs/build/*/ghcjs-8.4.0.1/*/x/*/build/frontend/frontend.jsexe/index.html",
    "distribute": "cp dist/ghcjs/build/*/ghcjs-8.4.0.1/*/x/*/build/frontend/frontend.jsexe/* dist/site/",
    "flush": "rm -r dist/ghcjs/build/*/ghcjs-8.4.0.1/*",
    "prod:backend": "cabal new-build backend --project-file=cabal.project --builddir=dist/ghc/",
    "prod:frontend": "cabal new-build exe:frontend --project-file=cabal-ghcjs.project --builddir=dist/ghcjs/ && cp ./dist/ghcjs/build/*/ghcjs-*/*/x/*/build/frontend/frontend.jsexe/all.js ./dist/site/frontend.js && closure-compiler --compilation_level ADVANCED_OPTIMIZATIONS --jscomp_off=\"*\" --js ./dist/site/frontend.js --js_output_file dist/site/frontend.js.min && gzip < ./dist/site/frontend.js.min > ./dist/site/frontend.js.min.gz"
  },
  "author": "$author",
  "email": "$email",
  "license": "BSD2",
  "dependencies": {
    "npm-watch": "0.2.0",
    "lite-server": "2.3.0"
  }
}
